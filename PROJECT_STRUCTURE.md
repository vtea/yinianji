# 项目结构说明

## 文件架构

### `/public` 目录

#### 1. **index.html** - 主入口文件
- 包含：
  - 登陆/注册页面（完全独立的两个面板）
  - 主应用框架（导航栏、功能菜单、浮动按钮、模态框）
  - iframe 容器用于加载各个模块
  - 主框架的 JavaScript 函数（导航、添加项目、保存功能）
  
- 职责：
  - 处理用户身份认证
  - 切换各个学习模块
  - 管理浮动添加按钮和模态框
  - 调用各模块的保存功能

#### 2. **chinese.html** - 语文模块（生字学习）
- 包含：
  - 生字卡片展示（拼音、朗读次数、日期）
  - 朗读功能（与后端 `/api/speak` 集成）
  - 删除生字功能
  - 响应式布局

- 职责：
  - 独立加载和展示用户的生字列表
  - 处理朗读和删除操作
  - 完全独立的样式和逻辑

#### 3. **math.html** - 数学模块（数学练习）
- 目前：展示"开发中"界面
- 架构已搭建，可独立开发数学相关功能
- 包含基础样式和加载框架

#### 4. **english.html** - 英语模块（英语学习）
- 目前：展示"开发中"界面
- 架构已搭建，可独立开发英语相关功能
- 包含基础样式和加载框架

## 工作流程

### 用户登陆流程
1. 用户在 `index.html` 的登陆面板输入账户密码
2. 调用 `/api/login` 或 `/api/register`
3. 登陆成功后显示主应用页面（导航栏 + 菜单 + iframe）

### 切换模块流程
1. 用户点击功能菜单（语文/数学/英语）
2. `switchPage()` 函数执行
3. 更新导航栏标题
4. 修改 iframe 的 `src` 属性加载对应 HTML 文件
5. 对应的 HTML 页面独立加载和显示内容

### 添加项目流程
1. 用户点击浮动按钮（➕）
2. `openAddItemModal()` 根据当前页面动态生成输入框
3. 用户填写信息并保存
4. 调用对应的 `save{Module}Item()` 函数
5. 后端保存成功后，重新加载 iframe 内容

## API 接口

### 已使用
- `POST /api/login` - 登陆
- `POST /api/register` - 注册
- `GET /api/words/:user_id` - 获取生字列表
- `POST /api/words` - 添加生字
- `POST /api/delete` - 删除项目
- `POST /api/speak` - 更新朗读计数

### 待开发
- 数学模块相关 API
- 英语模块相关 API

## 独立开发指南

### 开发新的学习模块

以"数学"为例：

1. 编辑 `math.html`
   - 修改 HTML 结构显示你的内容
   - 添加相应的 CSS 样式
   - 编写 `loadMathPage()` 函数加载数据

2. 在 `index.html` 中
   - 修改 `saveMathItem()` 函数处理保存逻辑
   - 如需调用新 API，在此处实现

3. 后端（server.js）
   - 添加相应的 API 端点
   - 创建数据库表（如需要）
   - 实现增删改查逻辑

## 优势

✅ **代码组织清晰**
- 每个模块独立成单个 HTML 文件
- 易于维护和调试
- 团队成员可并行开发不同模块

✅ **职责分离**
- index.html：主框架和身份认证
- 各模块 HTML：独立的展示和交互
- 每个文件不超过 500 行代码

✅ **易于扩展**
- 添加新模块只需创建新 HTML 文件
- 无需修改现有代码
- 模块之间完全独立

✅ **性能优化**
- 使用 iframe 实现模块隔离
- 每个模块有独立的样式表（无污染）
- 用户只加载所需的 HTML/CSS
